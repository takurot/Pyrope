# Benchmark Results: Synthetic Dataset (100,000 Vectors)

**Date**: 2026-01-18
**Environment**: Local Development (macOS/Arm64)
**Mode**: Release
**Version**: P10 Optimization Suite Enabled

## Configuration
- **Dataset**: Synthetic (Random Float32)
- **Dimension**: 128
- **Base Vectors**: 100,000
- **Queries**: 100
- **TopK**: 10
- **Concurrency**: 4

## Results

### Throughput (Load)
- **Rate**: 22,968.7 vec/s
- **Total Time**: 4.35s

### Search Performance
- **QPS**: 69.6
- **Total Time**: 1.44s

### Latency Distribution
| Metric | Value |
| :--- | :--- |
| **Min** | 1.275 ms |
| **Mean** | 57.447 ms |
| **P50** | 60.700 ms |
| **P95** | 70.360 ms |
| **P99** | 76.131 ms |
| **Max** | 76.133 ms |

## Comparison Across Scales

| Metric | 1k Vectors | 10k Vectors | 100k Vectors |
| :--- | ---: | ---: | ---: |
| **QPS** | 1,894 | 272.5 | 69.6 |
| **P99 Latency** | 3.05 ms | 21.43 ms | 76.13 ms |
| **Load Rate** | 10,486 vec/s | 15,592 vec/s | 22,968 vec/s |

## Analysis

### Key Observations

1.  **Linear QPS Degradation**: QPS dropped from 272.5 (10k) to 69.6 (100k), a ~74% reduction for a 10x data increase. This confirms BruteForce search is O(n) as expected.

2.  **P99 Exceeds 50ms Threshold**: At 76ms P99, the system is now **outside typical SLA requirements** for real-time RAG applications (usually 50ms P99 target). This is the critical scalability ceiling.

3.  **Load Throughput Continues to Improve**: The load throughput increased to ~23k vec/s, showing the write path scales well.

4.  **Minimum Latency Anomaly**: The 1.2ms minimum latency suggests some queries hit the cache (warmup phase may have populated some entries).

### Recommended Next Steps

1.  **Enable IVF Index**: Switch from BruteForce to IVF-Flat with appropriate `nlist` (e.g., 256-1024 for 100k vectors) to reduce search complexity from O(n) to O(n/nlist * nprobe).

2.  **Tune `nprobe`**: Start with `nprobe = 10-20` to balance recall vs latency.

3.  **Enable Scalar Quantization (SQ8)**: Reduce memory bandwidth by 4x, which should improve cache locality and throughput at 100k+ scale.

4.  **Consider HNSW**: For better P99 stability (logarithmic complexity), consider HNSW index for the head/hot path.

### Conclusion

At 100k vectors, the current BruteForce implementation has reached its practical limit for real-time applications. IVF indexing is mandatory for production workloads at this scale.
